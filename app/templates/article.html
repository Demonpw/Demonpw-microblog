{% extends "admin/base.html"%}

{% block content %}
<!--<div class="col-lg-12 post-text">
     
 </div>-->
 <!-- 侧边导航栏 -->
 <style type="text/css">
    img{
        width: 100%;
          /* v2.3 开始移除以下代码，详见 #502 */
          /* max-width: 100%;
          height: auto;*/
        border: 0;
    }
    .light-text{
        color: white;
        font-size: 2rem;
    }
    .light-text-2{
      color: white;
      font-size: 1.5rem;
    }
    .white-text{
      color: white;
    }
    .article-text{
      color:white;
      font-size: 125%;
    }
 </style>
        
        <!-- 内容区域 -->
        <div class="tpl-content-wrapper">
            <div class="am-u-sm-12 am-u-md-12 am-u-lg-12" style="background-image:url(../static/assets/img/headbg1.jpg);background-repeat: no-repeat;
     background-size: cover;
    -webkit-background-size: cover;
    -o-background-size: cover;
    background-position: 100% 100%;background-attachment: fixed;"  id="bgPic">
                <div class="am-u-sm-12 am-u-md-12 am-u-lg-9 am-fl" >
                    <div class="am-u-sm-12 am-u-md-12 am-u-lg-12  am-fl" style="height: 30rem;color: white;font-size: 3rem;text-align: center;">
                        <div style="line-height: 30rem">
                          <span class="am-icon-home page-header-heading-icon"></span>&nbsp;<!---->{{article.title}}
                        </div>
                                     
                    </div>
                    <div class="row-content am-cf">
                        <div class="row  am-cf">
                            <div class="am-u-sm-12 am-u-md-12 am-u-lg-12  am-fl">
                                <div class="light-text am-center "style="width: 90%;">
                                 <ol class="am-breadcrumb am-fl " >
                                  <li><a href="{{url_for('index')}}" class="am-icon-home white-text">首页</a></li>
                                 
                                    
                                  <li class="am-active white-text">正文</li>
                                 
                                </ol> 
                                </div>
                            </div><!---->
                            <div class="am-u-sm-12 am-u-md-12 am-u-lg-12  am-fl">
                                <div class=" am-fl am-cf am-u-sm-12 am-u-md-12 am-u-lg-12">
                                    <div id="" style="width: 90%;" class="am-center light-text">
                                    <br>
                                        <div class="widget-title am-vertical-align ">
                                            <span class="am-icon-clock-o am-text-light am-fl">最后更新时间：{{article.create_time}}</span>
                                            <!--<span class="am-text-light am-fr">©著作权归作者所有</span>-->
                                        </div>
                                        
                                        <hr>
                                        <div class="widget-title am-vertical-align article-text">
                                            {{ article.body_html|markdown|safe }}
                                        </div>
                                        <br>
                                        <div class="widget-body am-vertical-align ">
                                        <button type="button" class="am-btn am-btn-default am-icon-credit-card am-btn-danger am-round am-center">&nbsp;赞赏</button>
                                        </div>
                                    <br>
                                    </div>
                                    <div class="am-center" style="width: 95%;">
                                    {% if pre_bool %}
                                    <a href="{{url_for('article',id=article.id-1)}}"><button type="button" class="am-btn am-btn-default  am-btn- am-round am-center am-fl"><span class="am-icon-arrow-circle-left"></span>&nbsp;上一篇</button></a>
                                    {% endif %}
                                    {% if next_bool %}
                                    <a href="{{url_for('article',id=article.id+1)}}"><button type="button" class="am-btn am-btn-default  am-btn- am-round am-center am-fr">下一篇&nbsp;<span class="am-icon-arrow-circle-right"></span></button></a>
                                    {% endif %}
                                  </div>  
                                </div>
                                <br/>
                            </div>
                            <br/>
                            <div class="am-u-sm-12 am-u-md-12 am-u-lg-12  am-fl">
                                <form action="" method="post" class="am-center" role="form" style="width: 90%;">
                                  <div class=" am-u-sm-12 am-u-md-12 am-u-lg-12  am-center">
                                    <div class="am-form-group">
                                      {{ form.username(size=35,class_='am-form-field',placeholder='昵称*') }}
                                      {% for error in form.username.errors %}
                                      <span style="color:red;">[{{error}}]</span>
                                      {%endfor%}
                                    </div>
                                    <div class="am-form-group">
                                      {{ form.email(size=35,class_='am-form-field',type='email',placeholder='电子邮件*') }}
                                      {% for error in form.email.errors %}
                                      <span style="color:red;">[{{error}}]</span>
                                      {%endfor%}
                                    </div>
                                    <div class="am-form-group">
                                      {{ form.address(size=35,class_='am-form-field',type='text',placeholder='你的网址或者博客') }}
                                      {% for error in form.address.errors %}
                                      <span style="color:red;">[{{error}}]</span>
                                      {%endfor%}
                                    </div>
                                  </div>
                                  <br/>
                                   <div class="am-form-group am-u-sm-12 am-u-md-12 am-u-lg-12">
                                    {{ form.post(class_='am-radius',rows='7',id='',style='width:100%;') }}
                                      {% for error in form.post.errors %}
                                      <span style="color:red;">[{{error}}]</span>
                                      {%endfor%}
                                    </div>
                                  <br/>
                                   <div class="am-form-group am-u-sm-12 am-u-md-12 am-u-lg-12 am-text-light">
                                      {{ form.is_appear(class_='am-fr') }}
                                      {{ form.is_appear.label(class_='am-fr light-text-2') }}
                                      {% for error in form.is_appear.errors %}
                                      <span style="color:red;">[{{error}}]</span>
                                      {%endfor%}
                                    </div>
                                  <div class="am-form-group am-u-sm-12 am-u-md-12 am-u-lg-12">
                                      {{ form.submit(class_='am-btn am-btn-default am-fr',type='submit',placeholder='提交') }}
                                      {% for error in form.submit.errors %}
                                      <span style="color:red;">[{{error}}]</span>
                                      {%endfor%}
                                    </div>
                                </form>
                            </div>
                            <div class="am-u-sm-12 am-u-md-12 am-u-lg-12 am-center">
                              <div class="light-text am-center" style="width:90%;">
                                最新评论：
                                <hr>
                              </div>
                            </div>
                            <div class="am-u-sm-12 am-u-md-12 am-u-lg-12 am-center">
                                <div class="light-text-2 am-center" style="width:90%;">
                                  {% for post in posts %}
                                  {% if post.reply_id == 0 %}

                                  {% if post.is_appear == True and current_user.username != 'admin' and current_user.id != post.userid.id%}
                                    {{post.timestamp}}
                                    <br>
                                    {{post.userid.username}}评论：<a href="{{url_for('reply',article_id=post.article_id,user_id=post.user_id,user_to_id=post.user_id)}}" class="am-fr">回复</a>
                                    <br>
                                    &nbsp&nbsp&nbsp&nbsp此评论为私密内容，需要登录才能看见自己相应的评论
                                    <br>
                                    <hr>
                                  {% else %}
                                    {{post.timestamp}}
                                    <br>
                                    {{post.userid.username}}评论：<a href="{{url_for('reply',article_id=post.article_id,user_id=post.user_id,user_to_id=post.user_id)}}" class="am-fr">回复</a>
                                    <br>
                                    &nbsp&nbsp&nbsp&nbsp{{post.content}}
                                    <br>

                                    {% for reply in posts %}
                                    {% if reply.reply_id == post.id %}

                                    {% if reply.is_appear == True and current_user.username != 'admin' and current_user.id != post.userid.id and current_user.id != reply.userid.id and current_user.id != reply.user_to.id %}
                                      <br>
                                      &nbsp&nbsp&nbsp&nbsp&nbsp&nbsp&nbsp&nbsp{{reply.timestamp}}
                                      <br>
                                      &nbsp&nbsp&nbsp&nbsp&nbsp&nbsp&nbsp&nbsp{{reply.userid.username}}评论{{reply.user_to.username}}：<a href="{{url_for('reply',article_id=post.article_id,user_id=post.user_id,user_to_id=reply.user_id)}}" class="am-fr">回复</a>
                                      <br>
                                      &nbsp&nbsp&nbsp&nbsp&nbsp&nbsp&nbsp&nbsp&nbsp&nbsp&nbsp&nbsp此评论为私密内容，需要登录才能看见自己相应的评论
                                      <br>

                                    {% else %}
                                      <br>
                                      &nbsp&nbsp&nbsp&nbsp&nbsp&nbsp&nbsp&nbsp{{reply.timestamp}}
                                      <br>
                                      &nbsp&nbsp&nbsp&nbsp&nbsp&nbsp&nbsp&nbsp{{reply.userid.username}}评论{{reply.user_to.username}}：<a href="{{url_for('reply',article_id=post.article_id,user_id=post.user_id,user_to_id=reply.user_id)}}" class="am-fr">回复</a>
                                      <br>
                                      &nbsp&nbsp&nbsp&nbsp&nbsp&nbsp&nbsp&nbsp&nbsp&nbsp&nbsp&nbsp{{post.content}}
                                      <br>
                                    {%endif%}
                                    {%endif%}
                                    {%endfor%}
                                    <hr>
                                  {%endif%}
                                  {%endif%}
                                  {%endfor%}
                                </div>
                            </div>
                        </div>
                    </div>
                </div>
                <div class="am-u-sm-0 am-u-md-0 am-u-lg-3 opacitise" >
                        <div class=" am-cf">
                            <div class="am-u-lg-12 am-fr">
                                <div class="">
                                    <br />
                                    <div class="am-panel  am-panel-default rightHigh" style="background-color: rgba(130,127,126,0);border-radius: 0.2rem;">
                                          <div class="am-panel-hd" style="border-radius: 0.2rem;">
                                            热门文章
                                          </div>
                                          <div class="am-panel-bd">
                                          1.
                                          </div>
                                          <div class="am-panel-bd">
                                            2.
                                          </div>
                                          <div class="am-panel-bd">
                                           3.
                                          </div>
                                          <div class="am-panel-bd">
                                            4.
                                          </div>
                                      </div>
                                    <!--<div class="rightHigh inneropacitise"><h3>热门文章</h3><hr />
                                        <ul>
                                        <li>1</li>
                                        <li>2</li>
                                        <li>3</li>
                                        <li>4</li>
                                        </ul>
                                    </div>-->
                                    <div class="am-panel am-panel-default rightHigh" style="background-color: rgba(130,127,126,0);border-radius: 0.2rem;"style="background-color: rgba(130,127,126,0);border-radius: 0.2rem;">
                                          <div class="am-panel-hd" style="border-radius: 0.2rem;">
                                            网站信息
                                          </div>
                                          <div class="am-panel-bd">
                                          文章数目：
                                          </div>
                                          <div class="am-panel-bd">
                                           评论人数：
                                          </div>
                                          <div class="am-panel-bd">
                                         最后更新：
                                          </div>
                                          <div class="am-panel-bd">
                                            更新日志：
                                          </div>
                                      </div>
                                      <div class="am-panel am-panel-default rightHigh" style="background-color: rgba(130,127,126,0);border-radius: 0.2rem;">
                                          <div class="am-panel-hd" style="border-radius: 0.2rem;">
                                            最新评论
                                          </div>
                                          <div class="am-panel-bd">
                                          文章数目：
                                          </div>
                                          <div class="am-panel-bd">
                                           评论人数：
                                          </div>
                                          <div class="am-panel-bd">
                                         最后更新：
                                          </div>
                                          <div class="am-panel-bd">
                                            更新日志：
                                          </div>
                                      </div>
                                    
                                </div>
                                
                            </div>
                        </div>
                    </div>
                </div>
            </div>


        
{% endblock %}